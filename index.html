<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Î ÏÏŒÏ„Ï…Ï€Î± Î£Ï‡Î¿Î»ÎµÎ¯Î± - Î’Î¬ÏƒÎµÎ¹Ï‚ Î•Î¹ÏƒÎ±Î³Ï‰Î³Î®Ï‚</title>
    <style>
        /* CSS Î³Î¹Î± Ï„Î· Î¼Î¿ÏÏ†Î¿Ï€Î¿Î¯Î·ÏƒÎ· */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f9;
        }
        #controls {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
            padding: 15px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        #threshold-container {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        #threshold-value {
            font-size: 1.5em;
            font-weight: bold;
            padding: 5px 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            width: 70px;
            text-align: center;
            background-color: #f9f9f9;
        }
        .spin-button {
            padding: 5px 10px;
            font-size: 1.2em;
            cursor: pointer;
            border: none;
            border-radius: 4px;
            background-color: #007bff;
            color: white;
            transition: background-color 0.2s;
        }
        .spin-button:hover {
            background-color: #0056b3;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #e9ecef;
            cursor: pointer;
            vertical-align: top;
        }
        th div.header-text {
            display: flex; /* Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ¼Îµ flexbox Î³Î¹Î± Î½Î± ÎµÏ…Î¸Ï…Î³ÏÎ±Î¼Î¼Î¯ÏƒÎ¿Ï…Î¼Îµ Ï„Î¿ Î²Î­Î»Î¿Ï‚ */
            align-items: center;
            justify-content: space-between;
            padding-bottom: 5px;
        }
        th input {
            width: 90%;
            padding: 4px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 3px;
            margin-top: 5px;
        }
        .red-bg {
            background-color: #ffcccc;
        }
        .green-bg {
            background-color: #ccffcc;
        }

        /* ÎÎ•ÎŸ CSS Î“Î™Î‘ Î¤Î‘ Î’Î•Î›Î‘ÎšÎ™Î‘ */
        .sort-indicator {
            font-size: 0.8em;
            margin-left: 5px;
            opacity: 0.5; /* Î ÏÎ¿ÎµÏ€Î¹Î»Î¿Î³Î® Î³Î¹Î± Î¼Î· ÎµÎ½ÎµÏÎ³Î­Ï‚ ÏƒÏ„Î®Î»ÎµÏ‚ */
        }
        .sort-indicator::before {
            content: " â†•"; /* Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· Î¿Ï…Î´Î­Ï„ÎµÏÎ¿Ï… Î´Î¹Ï€Î»Î¿Ï Î²Î­Î»Î¿Ï…Ï‚ ÏƒÎµ ÎºÎ¬Î¸Îµ ÏƒÏ„Î®Î»Î· */
        }
        th.sorted .sort-indicator {
            opacity: 1; /* Î•Î¼Ï†Î±Î½Î¯Î¶Î¿Ï…Î¼Îµ Ï„Î¿ Î²Î­Î»Î¿Ï‚ Ï„Î·Ï‚ ÎµÎ½ÎµÏÎ³Î®Ï‚ ÏƒÏ„Î®Î»Î·Ï‚ */
        }
        th.sorted.asc .sort-indicator::before {
            content: " â–²"; /* Î’Î­Î»Î¿Ï‚ Ï€ÏÎ¿Ï‚ Ï„Î± Ï€Î¬Î½Ï‰ (Î‘ÏÎ¾Î¿Ï…ÏƒÎ±) */
        }
        th.sorted.desc .sort-indicator::before {
            content: " â–¼"; /* Î’Î­Î»Î¿Ï‚ Ï€ÏÎ¿Ï‚ Ï„Î± ÎºÎ¬Ï„Ï‰ (Î¦Î¸Î¯Î½Î¿Ï…ÏƒÎ±) */
        }
    </style>
</head>
<body>

<h1>ğŸ“Š Î ÏÏŒÏ„Ï…Ï€Î± Î£Ï‡Î¿Î»ÎµÎ¯Î± Î’Î¬ÏƒÎµÎ¹Ï‚ 2025</h1>

<div id="controls">
    <h2>Î’Î±Î¸Î¼ÏŒÏ‚ Î¼Î±Î¸Î·Ï„Î®:</h2>
    <div id="threshold-container">
        <button class="spin-button" onclick="changeThreshold(-1)">â€“</button>
        <input id="threshold-value" type="number" aria-label="Î’Î±Î¸Î¼ÏŒÏ‚ Î¼Î±Î¸Î·Ï„Î®" value="72">
        <button class="spin-button" onclick="changeThreshold(1)">+</button>
    </div>
</div>

<table id="data-table">
    <thead>
    <tr>
        <th data-column="scholeia" id="header-scholeia">
            <div class="header-text" onclick="sortTable('scholeia')">
                <span>Î Î¡ÎŸÎ¤Î¥Î Î‘ Î£Î§ÎŸÎ›Î•Î™Î‘</span>
                <span class="sort-indicator"></span>
            </div>
            <input type="text" placeholder="Î¦Î¹Î»Ï„ÏÎ¬ÏÎ¹ÏƒÎ¼Î±..." onkeyup="filterTable()" data-filter-column="scholeia">
        </th>
        <th data-column="kodikos" id="header-kodikos">
            <div class="header-text" onclick="sortTable('kodikos')">
                <span>ÎšÎ©Î”Î™ÎšÎŸÎ£ Î£Î§ÎŸÎ›Î•Î™ÎŸÎ¥</span>
                <span class="sort-indicator"></span>
            </div>
            <input type="text" placeholder="Î¦Î¹Î»Ï„ÏÎ¬ÏÎ¹ÏƒÎ¼Î±..." onkeyup="filterTable()" data-filter-column="kodikos">
        </th>
        <th data-column="basi" id="header-basi">
            <div class="header-text" onclick="sortTable('basi')">
                <span>Î’Î‘Î£Î— Î•Î™Î£Î‘Î“Î©Î“Î—Î£</span>
                <span class="sort-indicator"></span>
            </div>
            <input type="text" placeholder="Î¦Î¹Î»Ï„ÏÎ¬ÏÎ¹ÏƒÎ¼Î±..." onkeyup="filterTable()" data-filter-column="basi">
        </th>
        <th data-column="megisti" id="header-megisti">
            <div class="header-text" onclick="sortTable('megisti')">
                <span>ÎœÎ•Î“Î™Î£Î¤Î— Î’Î‘Î˜ÎœÎŸÎ›ÎŸÎ“Î™Î‘</span>
                <span class="sort-indicator"></span>
            </div>
            <input type="text" placeholder="Î¦Î¹Î»Ï„ÏÎ¬ÏÎ¹ÏƒÎ¼Î±..." onkeyup="filterTable()" data-filter-column="megisti">
        </th>
    </tr>
    </thead>
    <tbody>
    </tbody>
</table>

<script>
    // JavaScript Î³Î¹Î± Ï„Î· Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¹ÎºÏŒÏ„Î·Ï„Î±

    let threshold = 72;
    const thresholdElement = document.getElementById('threshold-value');
    const tableBody = document.querySelector('#data-table tbody');
    const headerInputs = document.querySelectorAll('th input[type="text"]');
    const tableHeaders = document.querySelectorAll('#data-table th');

    // Î¤Î± Î´ÎµÎ´Î¿Î¼Î­Î½Î± ÏƒÎ±Ï‚ (ÏŒÏ€Ï‰Ï‚ ÏƒÏ„Î¿Î½ Î±ÏÏ‡Î¹ÎºÏŒ Ï€Î¯Î½Î±ÎºÎ±)
    const allData = [
        { scholeia: "2Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ Î‘Î¸Î·Î½ÏÎ½", kodikos: "0501130", basi: 71, megisti: 92 },
        { scholeia: "Î’Î±ÏÎ²Î¬ÎºÎµÎ¹Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿", kodikos: "0501002", basi: 77, megisti: 98 },
        { scholeia: "Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ Î‘Î½Î±Î²ÏÏÏ„Ï‰Î½", kodikos: "0501003", basi: 80, megisti: 97 },
        { scholeia: "Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ Î•Ï…Î±Î³Î³ÎµÎ»Î¹ÎºÎ®Ï‚ Î£Ï‡Î¿Î»Î®Ï‚ Î£Î¼ÏÏÎ½Î·Ï‚", kodikos: "0501004", basi: 76, megisti: 100 },
        { scholeia: "1Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ Î‘Î¸Î®Î½Î±Ï‚", kodikos: "0501040", basi: 73, megisti: 94 },
        { scholeia: "Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ Î‘Î¹Î³Î¯Î¿Ï… Î‘Î½Î±ÏÎ³ÏÏÏ‰Î½", kodikos: "0501005", basi: 72, megisti: 98 },
        { scholeia: "1Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ Î™Î»Î¯Î¿Ï…", kodikos: "0501530", basi: 69, megisti: 86 },
        { scholeia: "Î–Î¬Î½Î½ÎµÎ¹Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿", kodikos: "0501905", basi: 68, megisti: 88 },
        { scholeia: "Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ Î™Ï‰Î½Î¹Î´ÎµÎ¯Î¿Ï… Î£Ï‡Î¿Î»Î®Ï‚ Î ÎµÎ¹ÏÎ±Î¹Î¬", kodikos: "0501904", basi: 72, megisti: 95 },
        { scholeia: "1Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ ÎœÏ…Ï„Î¹Î»Î®Î½Î·Ï‚ Â«Î’ÏÏÏ‰Î½ Î£Î¹Î²Î¿Î»Î¿Ï€Î­Ï„ÎºÎ¿Ï‚Â»", kodikos: "3301010", basi: 44, megisti: 91 },
        { scholeia: "Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ Î Î±Ï„ÏÏÎ½", kodikos: "0601001", basi: 66, megisti: 89 },
        { scholeia: "Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ Î–Ï‰ÏƒÎ¹Î¼Î±Î¯Î±Ï‚ Î£Ï‡Î¿Î»Î®Ï‚", kodikos: "2001030", basi: 58, megisti: 87 },
        { scholeia: "1Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ Î ÏÎ­Î²ÎµÎ¶Î±Ï‚", kodikos: "4001010", basi: 32, megisti: 72 },
        { scholeia: "Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ Î›Î¬ÏÎ¹ÏƒÎ±Ï‚", kodikos: "3108000", basi: 66, megisti: 95 },
        { scholeia: "2Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î—Î¼ÎµÏÎ®ÏƒÎ¹Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ Î’ÏŒÎ»Î¿Ï…", kodikos: "3501020", basi: 55, megisti: 97 },
        { scholeia: "2Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ Î˜ÎµÏƒÏƒÎ±Î»Î¿Î½Î¯ÎºÎ·Ï‚", kodikos: "1901004", basi: 74, megisti: 97 },
        { scholeia: "1Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ Î˜ÎµÏƒÏƒÎ±Î»Î¿Î½Î¯ÎºÎ·Ï‚", kodikos: "1901050", basi: 73, megisti: 90 },
        { scholeia: "1Î¿ Î—Î¼ÎµÏÎ®ÏƒÎ¹Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ ÎšÎ±ÏƒÏ„Î¿ÏÎ¹Î¬Ï‚", kodikos: "2301010", basi: 47, megisti: 79 },
        { scholeia: "Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ Î—ÏÎ±ÎºÎ»ÎµÎ¯Î¿Ï…", kodikos: "1701001", basi: 63, megisti: 97 },
        { scholeia: "2Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ Î¤ÏÎ¹Ï€ÏŒÎ»ÎµÏ‰Ï‚", kodikos: "0301002", basi: 17, megisti: 75 },
        { scholeia: "5Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Ï…Î¼Î½Î¬ÏƒÎ¹Î¿ Î§Î±Î»ÎºÎ¯Î´Î±Ï‚ Î•Ï…Î²Î¿Î¯Î±Ï‚", kodikos: "1201041", basi: 56, megisti: 87 },
        { scholeia: "1Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î“ÎµÎ½Î¹ÎºÏŒ Î›ÏÎºÎµÎ¹Î¿ Î‘Î¸Î·Î½ÏÎ½ â€“ Î“ÎµÎ½Î½Î±Î´ÎµÎ¯Î¿Ï…", kodikos: "0551040", basi: 66, megisti: 78 },
        { scholeia: "Î ÏÏŒÏ„Ï…Ï€Î¿ Î“ÎµÎ½Î¹ÎºÏŒ Î›ÏÎºÎµÎ¹Î¿ Î‘Î½Î±Î²ÏÏÏ„Ï‰Î½", kodikos: "0551003", basi: 73, megisti: 96 },
        { scholeia: "Î ÏÏŒÏ„Ï…Ï€Î¿ Î“ÎµÎ½Î¹ÎºÏŒ Î›ÏÎºÎµÎ¹Î¿ Î‘Î³. Î‘Î½Î±ÏÎ³ÏÏÏ‰Î½", kodikos: "0551015", basi: 67, megisti: 83 },
        { scholeia: "Î–Î¬Î½Î½ÎµÎ¹Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î“ÎµÎ½Î¹ÎºÏŒ Î›ÏÎºÎµÎ¹Î¿ Î ÎµÎ¹ÏÎ±Î¹Î¬", kodikos: "0551905", basi: 67, megisti: 74 },
        { scholeia: "Î ÏÏŒÏ„Ï…Ï€Î¿ Î“ÎµÎ½Î¹ÎºÏŒ Î›ÏÎºÎµÎ¹Î¿ Î•Ï…Î±Î³Î³ÎµÎ»Î¹ÎºÎ®Ï‚ Î£Ï‡Î¿Î»Î®Ï‚ Î£Î¼ÏÏÎ½Î·Ï‚", kodikos: "0551004", basi: 64, megisti: 84 },
        { scholeia: "Î ÏÏŒÏ„Ï…Ï€Î¿ Î“ÎµÎ½Î¹ÎºÏŒ Î›ÏÎºÎµÎ¹Î¿ ÎœÏ…Ï„Î¹Î»Î®Î½Î·Ï‚ Ï„Î¿Ï… Î Î±Î½ÎµÏ€Î¹ÏƒÏ„Î·Î¼Î¯Î¿Ï… Î‘Î¹Î³Î±Î¯Î¿Ï…", kodikos: "3351010", basi: 51, megisti: 65 },
        { scholeia: "1Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î“Î•Î› ÎšÎ±ÏƒÏ„Î¿ÏÎ¹Î¬Ï‚", kodikos: "2351010", basi: 47, megisti: 84 },
        { scholeia: "Î ÏÏŒÏ„Ï…Ï€Î¿ Î“ÎµÎ½Î¹ÎºÏŒ Î›ÏÎºÎµÎ¹Î¿ Î–Ï‰ÏƒÎ¹Î¼Î±Î¯Î±Ï‚ Î£Ï‡Î¿Î»Î®Ï‚ Î™Ï‰Î±Î½Î½Î¯Î½Ï‰Î½", kodikos: "2051030", basi: 51, megisti: 70 },
        { scholeia: "Î ÏÏŒÏ„Ï…Ï€Î¿ Î“ÎµÎ½Î¹ÎºÏŒ Î›ÏÎºÎµÎ¹Î¿ Î›Î¬ÏÎ¹ÏƒÎ±Ï‚", kodikos: "3158000", basi: 47, megisti: 90 },
        { scholeia: "2Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î—Î¼ÎµÏÎ®ÏƒÎ¹Î¿ Î“ÎµÎ½Î¹ÎºÏŒ Î›ÏÎºÎµÎ¹Î¿ Î’ÏŒÎ»Î¿Ï…", kodikos: "3551020", basi: 52, megisti: 67 },
        { scholeia: "1Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î“ÎµÎ½Î¹ÎºÏŒ Î›ÏÎºÎµÎ¹Î¿ Î§Î±Î»ÎºÎ¯Î´Î±Ï‚ Î•Ï…Î²Î¿Î¯Î±Ï‚", kodikos: "1251010", basi: 46, megisti: 77 },
        { scholeia: "1Î¿ Î ÏÏŒÏ„Ï…Ï€Î¿ Î“ÎµÎ½Î¹ÎºÏŒ Î›ÏÎºÎµÎ¹Î¿ Î˜ÎµÏƒÏƒÎ±Î»Î¿Î½Î¯ÎºÎ·Ï‚ â€“ ÎœÎ±Î½ÏŒÎ»Î·Ï‚ Î‘Î½Î´ÏÏŒÎ½Î¹ÎºÎ¿Ï‚", kodikos: "1951004", basi: 81, megisti: 83 }
    ];

    let currentData = [...allData];
    let sortColumn = null;
    let sortDirection = 'asc';

    // Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· Î³Î¹Î± Ï„Î· Ï‡ÏÏ‰Î¼Î±Ï„Î¹ÎºÎ® Î¼Î¿ÏÏ†Î¿Ï€Î¿Î¯Î·ÏƒÎ· (Conditional Formatting)
    function applyConditionalFormatting() {
        const rows = tableBody.querySelectorAll('tr');
        rows.forEach(row => {
            const basiCell = row.cells[2];
            const basiValue = parseFloat(basiCell.textContent);

            basiCell.classList.remove('red-bg', 'green-bg');

            if (basiValue <= threshold) {
                basiCell.classList.add('green-bg');
            } else {
                basiCell.classList.add('red-bg');
            }
        });
    }

    // Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· Î³Î¹Î± Ï„Î·Î½ Î±ÏÎ¾Î·ÏƒÎ·/Î¼ÎµÎ¯Ï‰ÏƒÎ· Ï„Î¿Ï… Î¿ÏÎ¯Î¿Ï… (Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± +/-)
    function changeThreshold(amount) {
        threshold += amount;
        thresholdElement.value = threshold;
        applyConditionalFormatting();
    }

    // Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· Î³Î¹Î± Ï„Î·Î½ ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ· Ï„Î¿Ï… Î¿ÏÎ¯Î¿Ï… Î±Ï€ÏŒ Ï„Î·Î½ Î¬Î¼ÎµÏƒÎ· ÎµÎ¹ÏƒÎ±Î³Ï‰Î³Î® Ï‡ÏÎ®ÏƒÏ„Î·
    function updateThresholdFromInput() {
        const value = parseFloat(thresholdElement.value);
        if (!isNaN(value)) {
            threshold = value;
            applyConditionalFormatting();
        }
    }

    // Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· Î³Î¹Î± Ï„Î¿ Ï†Î¹Î»Ï„ÏÎ¬ÏÎ¹ÏƒÎ¼Î± Ï„Î¿Ï… Ï€Î¯Î½Î±ÎºÎ± (Text Search Filter)
    function filterTable() {
        let filteredData = [...allData];
        const filters = {};

        headerInputs.forEach(input => {
            const column = input.getAttribute('data-filter-column');
            const value = input.value.toLowerCase().trim();
            if (value) {
                filters[column] = value;
            }
        });

        if (Object.keys(filters).length > 0) {
            filteredData = filteredData.filter(item => {
                let matches = true;
                for (const column in filters) {
                    const filterValue = filters[column];
                    let itemValue = String(item[column]).toLowerCase();

                    if (!itemValue.includes(filterValue)) {
                        matches = false;
                        break;
                    }
                }
                return matches;
            });
        }

        currentData = filteredData;
        sortTable(sortColumn, true);
    }

    // Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· Î³Î¹Î± Ï„Î·Î½ Ï„Î±Î¾Î¹Î½ÏŒÎ¼Î·ÏƒÎ· Ï„Î¿Ï… Ï€Î¯Î½Î±ÎºÎ±
    function sortTable(column, isFilterCall = false) {
        // Î•Î½Î±Î»Î»Î±Î³Î® ÎºÎ±Ï„ÎµÏÎ¸Ï…Î½ÏƒÎ·Ï‚ Î¼ÏŒÎ½Î¿ Î±Î½ ÎµÎ¯Î½Î±Î¹ ÎºÎ»Î¹Îº ÏƒÏ„Î·Î½ Î¯Î´Î¹Î± ÏƒÏ„Î®Î»Î·
        if (column === sortColumn && !isFilterCall) {
            sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';
        } else if (!isFilterCall) {
            // Î•Ï€Î±Î½Î±Ï†Î¿ÏÎ¬ ÏƒÎµ asc Î±Î½ Î±Î»Î»Î¬Î¾ÎµÎ¹ ÏƒÏ„Î®Î»Î·
            sortDirection = 'asc';
        }
        // ÎŸÏÎ¹ÏƒÎ¼ÏŒÏ‚ Ï„Î·Ï‚ ÏƒÏ„Î®Î»Î·Ï‚ Ï„Î±Î¾Î¹Î½ÏŒÎ¼Î·ÏƒÎ·Ï‚
        sortColumn = column;

        const sortedData = [...currentData].sort((a, b) => {
            const columnValueA = a[column];
            const columnValueB = b[column];

            let comparison = 0;
            // Î‘ÏÎ¹Î¸Î¼Î·Ï„Î¹ÎºÎ® ÏƒÏÎ³ÎºÏÎ¹ÏƒÎ·
            if (column === 'basi' || column === 'megisti') {
                comparison = parseFloat(columnValueA) - parseFloat(columnValueB);
            } else {
                // Î‘Î»Ï†Î±Î²Î·Ï„Î¹ÎºÎ® ÏƒÏÎ³ÎºÏÎ¹ÏƒÎ·
                const valA = String(columnValueA).toLowerCase();
                const valB = String(columnValueB).toLowerCase();
                if (valA > valB) {
                    comparison = 1;
                } else if (valA < valB) {
                    comparison = -1;
                }
            }

            return sortDirection === 'asc' ? comparison : comparison * -1;
        });

        renderTable(sortedData);
        updateSortIndicators(); // ÎšÎ»Î®ÏƒÎ· Ï„Î·Ï‚ Î½Î­Î±Ï‚ ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ·Ï‚ Î³Î¹Î± ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ· Ï„Ï‰Î½ Î²ÎµÎ»ÏÎ½
    }

    // ÎÎ•Î‘ Î£Î¥ÎÎ‘Î¡Î¤Î—Î£Î—: Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ· Ï„Ï‰Î½ Î²ÎµÎ»ÏÎ½ Ï„Î±Î¾Î¹Î½ÏŒÎ¼Î·ÏƒÎ·Ï‚
    function updateSortIndicators() {
        tableHeaders.forEach(header => {
            header.classList.remove('sorted', 'asc', 'desc');
            if (header.getAttribute('data-column') === sortColumn) {
                header.classList.add('sorted', sortDirection);
            }
        });
    }

    // Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· Î³Î¹Î± Ï„Î· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Ï„Ï‰Î½ Î³ÏÎ±Î¼Î¼ÏÎ½ Ï„Î¿Ï… Ï€Î¯Î½Î±ÎºÎ±
    function renderTable(dataToRender) {
        tableBody.innerHTML = '';

        dataToRender.forEach(item => {
            const row = tableBody.insertRow();
            row.insertCell().textContent = item.scholeia;
            row.insertCell().textContent = item.kodikos;
            row.insertCell().textContent = item.basi;
            row.insertCell().textContent = item.megisti;
        });

        applyConditionalFormatting();
    }

    // Î‘ÏÏ‡Î¹ÎºÎ® Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Î¿Ï… Ï€Î¯Î½Î±ÎºÎ± ÎºÎ±Î¹ Ï„Î±Î¾Î¹Î½ÏŒÎ¼Î·ÏƒÎ· (Ï€.Ï‡. Î¼Îµ Ï„Î¿ ÏŒÎ½Î¿Î¼Î± Ï„Î¿Ï… ÏƒÏ‡Î¿Î»ÎµÎ¯Î¿Ï…)
    sortTable('scholeia', true); // Î¤Î±Î¾Î¹Î½ÏŒÎ¼Î·ÏƒÎ· Î²Î¬ÏƒÎµÎ¹ 'scholeia' ÎºÎ±Ï„Î¬ Ï„Î·Î½ Î±ÏÏ‡Î¹ÎºÎ® Ï†ÏŒÏÏ„Ï‰ÏƒÎ·

    // Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î±ÎºÏÏŒÎ±ÏƒÎ·Ï‚ Î³Î¹Î± Î¬Î¼ÎµÏƒÎ· ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± Ï„Î¿Ï… Î²Î±Î¸Î¼Î¿Ï
    thresholdElement.addEventListener('input', updateThresholdFromInput);

    // Î•ÎºÎ¸Î­Ï„Î¿Ï…Î¼Îµ Ï„Î¹Ï‚ ÏƒÏ…Î½Î±ÏÏ„Î®ÏƒÎµÎ¹Ï‚ ÏƒÏ„Î¿ window
    window.changeThreshold = changeThreshold;
    window.updateThresholdFromInput = updateThresholdFromInput;
    window.filterTable = filterTable;
    window.sortTable = sortTable;
</script>
</body>
</html>